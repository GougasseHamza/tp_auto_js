{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nexport default {\n  data() {\n    return {\n      products: [],\n      cart: []\n    };\n  },\n  computed: {\n    totalPrice() {\n      return this.cart.reduce((acc, item) => acc + item.prix, 0);\n    }\n  },\n  methods: {\n    async fetchProducts() {\n      // This simulates fetching from a JSON file\n      const response = await fetch('/pieces-auto.json');\n      const data = await response.json();\n      this.products = data;\n    },\n    addToCart(product) {\n      if (!this.cart.some(item => item.id === product.id)) {\n        this.cart.push(product);\n      }\n    },\n    removeFromCart(productId) {\n      this.cart = this.cart.filter(item => item.id !== productId);\n    }\n  },\n  mounted() {\n    this.fetchProducts();\n  }\n};","map":{"version":3,"names":["data","products","cart","computed","totalPrice","reduce","acc","item","prix","methods","fetchProducts","response","fetch","json","addToCart","product","some","id","push","removeFromCart","productId","filter","mounted"],"sources":["/home/kyyblin/tp-auto/src/components/ProductList.vue"],"sourcesContent":["<template>\n    <div>\n      <h1>Catalogue de Pièces Auto</h1>\n      <div class=\"product-list\">\n        <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item\">\n          <img :src=\"`/images/${product.image}`\" alt=\"product image\" class=\"product-image\" />\n          <div class=\"product-details\">\n            <h2>{{ product.nom }}</h2>\n            <p>{{ product.categorie }}</p>\n            <p>Prix: {{ product.prix }}€</p>\n            <button @click=\"addToCart(product)\" :disabled=\"!product.disponible\">\n              {{ product.disponible ? 'Ajouter au panier' : 'Indisponible' }}\n            </button>\n          </div>\n        </div>\n      </div>\n  \n      <h2>Mon Panier</h2>\n      <div v-if=\"cart.length > 0\">\n        <ul>\n          <li v-for=\"item in cart\" :key=\"item.id\">\n            {{ item.nom }} - {{ item.prix }}€ \n            <button @click=\"removeFromCart(item.id)\">Retirer</button>\n          </li>\n        </ul>\n        <p>Total: {{ totalPrice }}€</p>\n      </div>\n      <div v-else>\n        <p>Votre panier est vide.</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        products: [],\n        cart: [],\n      };\n    },\n    computed: {\n      totalPrice() {\n        return this.cart.reduce((acc, item) => acc + item.prix, 0);\n      },\n    },\n    methods: {\n      async fetchProducts() {\n        // This simulates fetching from a JSON file\n        const response = await fetch('/pieces-auto.json');\n        const data = await response.json();\n        this.products = data;\n      },\n      addToCart(product) {\n        if (!this.cart.some((item) => item.id === product.id)) {\n          this.cart.push(product);\n        }\n      },\n      removeFromCart(productId) {\n        this.cart = this.cart.filter(item => item.id !== productId);\n      },\n    },\n    mounted() {\n      this.fetchProducts();\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .product-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 20px;\n  }\n  \n  .product-item {\n    width: 200px;\n    border: 1px solid #ccc;\n    padding: 10px;\n    text-align: center;\n  }\n  \n  .product-image {\n    width: 100%;\n    height: auto;\n  }\n  \n  .product-details {\n    margin-top: 10px;\n  }\n  \n  button {\n    background-color: #28a745;\n    color: white;\n    border: none;\n    padding: 10px;\n    cursor: pointer;\n  }\n  \n  button:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n  \n  h1, h2 {\n    font-size: 24px;\n  }\n  \n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n  </style>\n  "],"mappings":";;;;;AAkCE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAO,IAAI,CAACF,IAAI,CAACG,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAE,GAAIC,IAAI,CAACC,IAAI,EAAE,CAAC,CAAC;IAC5D;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB;MACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,mBAAmB,CAAC;MACjD,MAAMZ,IAAG,GAAI,MAAMW,QAAQ,CAACE,IAAI,CAAC,CAAC;MAClC,IAAI,CAACZ,QAAO,GAAID,IAAI;IACtB,CAAC;IACDc,SAASA,CAACC,OAAO,EAAE;MACjB,IAAI,CAAC,IAAI,CAACb,IAAI,CAACc,IAAI,CAAET,IAAI,IAAKA,IAAI,CAACU,EAAC,KAAMF,OAAO,CAACE,EAAE,CAAC,EAAE;QACrD,IAAI,CAACf,IAAI,CAACgB,IAAI,CAACH,OAAO,CAAC;MACzB;IACF,CAAC;IACDI,cAAcA,CAACC,SAAS,EAAE;MACxB,IAAI,CAAClB,IAAG,GAAI,IAAI,CAACA,IAAI,CAACmB,MAAM,CAACd,IAAG,IAAKA,IAAI,CAACU,EAAC,KAAMG,SAAS,CAAC;IAC7D;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACZ,aAAa,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}