{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"product-list\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"product-details\"\n};\nconst _hoisted_4 = [\"onClick\", \"disabled\"];\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"Catalogue de Pièces Auto\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"product-item\"\n    }, [_createElementVNode(\"img\", {\n      src: `/images/${product.image}`,\n      alt: \"product image\",\n      class: \"product-image\"\n    }, null, 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h2\", null, _toDisplayString(product.nom), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(product.categorie), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Prix: \" + _toDisplayString(product.prix) + \"€\", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.addToCart(product),\n      disabled: !product.disponible\n    }, _toDisplayString(product.disponible ? 'Ajouter au panier' : 'Indisponible'), 9 /* TEXT, PROPS */, _hoisted_4)])]);\n  }), 128 /* KEYED_FRAGMENT */))]), _cache[2] || (_cache[2] = _createElementVNode(\"h2\", null, \"Mon Panier\", -1 /* HOISTED */)), $data.cart.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cart, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id\n    }, [_createTextVNode(_toDisplayString(item.nom) + \" - \" + _toDisplayString(item.prix) + \"€ \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeFromCart(item.id)\n    }, \"Retirer\", 8 /* PROPS */, _hoisted_6)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"p\", null, \"Total: \" + _toDisplayString($options.totalPrice) + \"€\", 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _cache[0] || (_cache[0] = [_createElementVNode(\"p\", null, \"Votre panier est vide.\", -1 /* HOISTED */)])))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createElementVNode","_hoisted_1","_Fragment","_renderList","$data","products","product","id","src","image","alt","_hoisted_2","_hoisted_3","_toDisplayString","nom","categorie","prix","onClick","$event","$options","addToCart","disabled","disponible","_hoisted_4","cart","length","_hoisted_5","item","_createTextVNode","removeFromCart","_hoisted_6","totalPrice","_hoisted_7","_cache"],"sources":["/home/kyyblin/tp-auto/src/components/ProductList.vue"],"sourcesContent":["<template>\n    <div>\n      <h1>Catalogue de Pièces Auto</h1>\n      <div class=\"product-list\">\n        <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item\">\n          <img :src=\"`/images/${product.image}`\" alt=\"product image\" class=\"product-image\" />\n          <div class=\"product-details\">\n            <h2>{{ product.nom }}</h2>\n            <p>{{ product.categorie }}</p>\n            <p>Prix: {{ product.prix }}€</p>\n            <button @click=\"addToCart(product)\" :disabled=\"!product.disponible\">\n              {{ product.disponible ? 'Ajouter au panier' : 'Indisponible' }}\n            </button>\n          </div>\n        </div>\n      </div>\n  \n      <h2>Mon Panier</h2>\n      <div v-if=\"cart.length > 0\">\n        <ul>\n          <li v-for=\"item in cart\" :key=\"item.id\">\n            {{ item.nom }} - {{ item.prix }}€ \n            <button @click=\"removeFromCart(item.id)\">Retirer</button>\n          </li>\n        </ul>\n        <p>Total: {{ totalPrice }}€</p>\n      </div>\n      <div v-else>\n        <p>Votre panier est vide.</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        products: [],\n        cart: [],\n      };\n    },\n    computed: {\n      totalPrice() {\n        return this.cart.reduce((acc, item) => acc + item.prix, 0);\n      },\n    },\n    methods: {\n      async fetchProducts() {\n        // This simulates fetching from a JSON file\n        const response = await fetch('/pieces-auto.json');\n        const data = await response.json();\n        this.products = data;\n      },\n      addToCart(product) {\n        if (!this.cart.some((item) => item.id === product.id)) {\n          this.cart.push(product);\n        }\n      },\n      removeFromCart(productId) {\n        this.cart = this.cart.filter(item => item.id !== productId);\n      },\n    },\n    mounted() {\n      this.fetchProducts();\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .product-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 20px;\n  }\n  \n  .product-item {\n    width: 200px;\n    border: 1px solid #ccc;\n    padding: 10px;\n    text-align: center;\n  }\n  \n  .product-image {\n    width: 100%;\n    height: auto;\n  }\n  \n  .product-details {\n    margin-top: 10px;\n  }\n  \n  button {\n    background-color: #28a745;\n    color: white;\n    border: none;\n    padding: 10px;\n    cursor: pointer;\n  }\n  \n  button:disabled {\n    background-color: #ddd;\n    cursor: not-allowed;\n  }\n  \n  h1, h2 {\n    font-size: 24px;\n  }\n  \n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n  </style>\n  "],"mappings":";;EAGWA,KAAK,EAAC;AAAc;mBAH/B;;EAMeA,KAAK,EAAC;AAAiB;mBANtC;;EAAAC,GAAA;AAAA;mBAAA;;EAAAA,GAAA;AAAA;;uBACIC,mBAAA,CA6BM,c,0BA5BJC,mBAAA,CAAiC,YAA7B,0BAAwB,sBAC5BA,mBAAA,CAYM,OAZNC,UAYM,I,kBAXJF,mBAAA,CAUMG,SAAA,QAddC,WAAA,CAI+BC,KAAA,CAAAC,QAAQ,EAAnBC,OAAO;yBAAnBP,mBAAA,CAUM;MAV4BD,GAAG,EAAEQ,OAAO,CAACC,EAAE;MAAEV,KAAK,EAAC;QACvDG,mBAAA,CAAmF;MAA7EQ,GAAG,aAAaF,OAAO,CAACG,KAAK;MAAIC,GAAG,EAAC,eAAe;MAACb,KAAK,EAAC;4BAL3Ec,UAAA,GAMUX,mBAAA,CAOM,OAPNY,UAOM,GANJZ,mBAAA,CAA0B,YAAAa,gBAAA,CAAnBP,OAAO,CAACQ,GAAG,kBAClBd,mBAAA,CAA8B,WAAAa,gBAAA,CAAxBP,OAAO,CAACS,SAAS,kBACvBf,mBAAA,CAAgC,WAA7B,QAAM,GAAAa,gBAAA,CAAGP,OAAO,CAACU,IAAI,IAAG,GAAC,iBAC5BhB,mBAAA,CAES;MAFAiB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS,CAACd,OAAO;MAAIe,QAAQ,GAAGf,OAAO,CAACgB;wBACnDhB,OAAO,CAACgB,UAAU,+DAXnCC,UAAA,E;8DAiBMvB,mBAAA,CAAmB,YAAf,YAAU,sBACHI,KAAA,CAAAoB,IAAI,CAACC,MAAM,Q,cAAtB1B,mBAAA,CAQM,OA1BZ2B,UAAA,GAmBQ1B,mBAAA,CAKK,c,kBAJHD,mBAAA,CAGKG,SAAA,QAvBfC,WAAA,CAoB6BC,KAAA,CAAAoB,IAAI,EAAZG,IAAI;yBAAf5B,mBAAA,CAGK;MAHqBD,GAAG,EAAE6B,IAAI,CAACpB;QApB9CqB,gBAAA,CAAAf,gBAAA,CAqBec,IAAI,CAACb,GAAG,IAAG,KAAG,GAAAD,gBAAA,CAAGc,IAAI,CAACX,IAAI,IAAG,IAChC,iBAAAhB,mBAAA,CAAyD;MAAhDiB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAU,cAAc,CAACF,IAAI,CAACpB,EAAE;OAAG,SAAO,iBAtB5DuB,UAAA,E;oCAyBQ9B,mBAAA,CAA+B,WAA5B,SAAO,GAAAa,gBAAA,CAAGM,QAAA,CAAAY,UAAU,IAAG,GAAC,gB,oBAE7BhC,mBAAA,CAEM,OA7BZiC,UAAA,EAAAC,MAAA,QAAAA,MAAA,OA4BQjC,mBAAA,CAA6B,WAA1B,wBAAsB,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}